{"version":3,"sources":["assets/images/UB-woodblock-closeup.jpg","serviceWorker.js","store/actions/types.js","store/connection.js","store/queries/initialAuthorsSearch.js","store/queries/initialTopicsSearch.js","store/queries/searchByID.js","store/queries/searchByTerm.js","store/actions/searchActions.js","store/collections/testCollection.js","store/actions/googleSheetsActions.js","store/actions/WPPagesActions.js","store/actions/WPPostsActions.js","store/actions/utilityActions.js","store/actions/ontology/bdrcNotes.js","store/actions/ontology/bdrcPerson.js","store/actions/ontology/bdrcPersonEvent.js","store/actions/ontology/index.js","store/actions/index.js","components/containers/Language.js","components/Languages.js","components/containers/NavItem.js","components/Nav.js","components/Header.js","components/Footer.js","components/Posts.js","components/Stats.js","components/Sidebar.js","components/SubItems.js","components/Modal.js","components/Items.js","components/Archives.js","components/Page.js","router.js","store/reducers/index.js","i18n.js","index.js","store/configureStore.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","REQUEST_PAGES","RECEIVE_PAGES","REQUEST_POSTS","RECEIVE_POSTS","REQUEST_GS","RECEIVE_GS","DETAIL_MODAL","RECEIVE_MANIFEST","REQUEST_MANIFEST","NULLIFY_IIIF","RECEIVE_IIIF","REQUEST_IIIF","REQUEST_ES_DATA","RECEIVE_ES_DATA","RECEIVE_DATA","REQUEST_DATA","REQUEST_WORKS","RECEIVE_WORKS","REQUEST_ID","RECEIVE_ID","RECEIVE_AUTHORS","REQUEST_AUTHORS","RECEIVE_TOPICS","REQUEST_TOPICS","RECEIVE_SUBJECTS","REQUEST_SUBJECTS","REQUEST_RESOURCES","RECEIVE_RESOURCES","host","isConnected","healthStatus","client","elasticsearch","Client","protocol","port","path","log","_callee","health","regenerator_default","a","wrap","_context","prev","next","cluster","sent","status","t0","console","error","abrupt","stop","this","initialAuthorSearch","ids","body","aggregations","uniqueAuthors","terms","field","size","length","query","type","searchParams","values","search","index","initialIndex","initialTopicsSearch","uniqueTopics","searchByID","code","allSource","arguments","undefined","sortValue","source","collections","order","_count","bool","filter","_source","sort","Object","defineProperty","searchIDSbyTerm","qterm","searchField","qids","must","term","value","collection_v1","requestESData","types","receiveESData","json","data","receivedAt","Date","now","fetchSpecificID","doc_id","dispatch","charAt","then","dataDetail","imageAsset","hits","workHasItemImageAsset","volume","workHasItem","mutateDataWithRelatedDocs","_ref4","asyncToGenerator","mark","_callee5","_context5","Promise","all","map","_ref5","_callee4","d","i","_context4","_id","newData","modifiedData","injectPrefLabel","_x6","_x7","apply","_x4","_x5","_ref6","_callee6","tid","_context6","Array","isArray","some","l","find","t","_x8","b","_tid","localeCompare","spreadSheet","concat","tableTopInit","_ref","response","Tabletop","init","key","callback","tabletop","Stats","elements","nodeWP","endpointWP","unpackNotes","arr","notesArray","possibleIDs","noteText","toLowerCase","includes","push","id","parsedNotes","nlmIDs","namesOfInterest","unpackPersonName","substring","react_default","createElement","className","hasOwnProperty","s","unpackNames","onClick","bdrcPerson_this","showModal","split","unpackPersonEvent","lifeEvents","workEvents","events","typeEvent","onYear","keys","k","indexOf","notBefore","notAfter","eventWhere","unpackOntology","stringArray","defaultLanguage","languages","en","mn","browseOptionsObj","browse","stateType","bdrGender","bdr:GenderMale","bdr:GenderFemale","bdrObjectType","bdr:ObjectTypeBlockprint","IIIFImageAPI","IIIFsuffix","setLanguage","language","setPage","page","setCollection","collection","withN","withNamespaces","active","children","lang","i18n","lng","changeLanguage","style","color","disabled","connect","state","ownProps","selectedLanguage","props","list","entries","_ref2","slicedToArray","Link","to","containers_Language","selectedPage","slugs","navigation","nav","slug","containers_NavItem","pages","items","c","title","rendered","menu_order","Header","components_Languages","Nav","src","alt","href","target","rel","fetchingPosts","posts","isFetching","nestedObj","prop","post","j","mediaURL","_embedded","source_url","parseInt","acf","columns","dangerouslySetInnerHTML","__html","content","statList","stats","constructor","LastUpdate","PagesDigitized","VolumesDigitized","img","Sidebar","handleCollectionFiltering","updatedCollection","_this","_this2","o","checked","onChange","e","htmlFor","Component","getNumberOfItems","buckets","doc_count","total","collapse","setCollapse","setBrowse","number_esWorks","esWorks","number_esAuthors","esAuthors","number_esSubjects","esSubjects","SubItems","related","setImage","handleShowModal","relatedItems","_d$_source","_resources","_firstImageURL","_manifestURL","_access","imageURL","Modal","buildImg","access","firstImage","width","buildWorkMetadata","workExtentStatement","workLangScript","workNumberOfVolumes","workObjectType","workPublisherName","objectType","pubName","buildAttribution","parseModalDetails","modalDetails","workDetail","hideModal","note","_unpackNotes","notes","Fragment","attribution","closeBtn","metaDetail","trim","personEvent","personName","personGender","join","gender","personalDetails","buildPersonalDetails","label","scanBtn","buildScansBtn","workMetadata","catalog","workCatalogInfo","catalogInfo","btn","manifestURL","showHideClassName","show","detailData","modalID","detailModal","item","resources","esResources","image","manifest","numberVolumes","Items","handleHideModal","setImageURL","currentESdata","x","_related","components_SubItems","components_Modal","getCurrentData","_collection","components_Sidebar","components_Items","Page","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setLang","_this$props","resetPage","setNumber","0","1","2","3","4","rgbLight","rgbDark","languageCheckAndUpdate","onpopstate","preventDefault","_this$props2","history","url","_this3","backgroundImage","subtitle","fetchingPages","Header_Header","renderPage","components_Stats","gs","components_Posts","components_Archives","components_Footer","router","pathname","gsData","Routes","BrowserRouter","Switch","Route","component","Redirect","from","action","assign","lastUpdated","manifestData","IIIFData","payload","rootReducer","combineReducers","connectRouter","use","Backend","LanguageDetector","reactI18nextModule","fallbackLng","debug","load","returnObjects","interpolation","escapeValue","react","wait","createBrowserHistory","store","preloadedState","middlewares","thunkMiddleware","enhancers","applyMiddleware","composedEnhancers","compose","createStore","configureStore","fetch","reduce","r","receivePages","receivePosts","_callee2","_context2","StatName","isNaN","Value","String","replace","_x","checkConnection","authors","_x2","_ref3","_callee3","topics","_context3","_x3","ReactDOM","render","document","classList","add","es","esm","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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ACNE,MAAO,CACNmB,KAAM,CACLU,KAAM,CACLC,KAAKP,OAAAC,EAAA,EAAAD,CAAA,GACHI,EAAc,CACdI,MAAOL,KAIVN,OAAQ,CACP5B,IAAK,CACJS,KAAMC,GAAaD,KACnBE,OAAQyB,OAOb,OAAO7D,EAAOqC,OAAO,CAAEC,QAAOZ,UCVzBuC,EChBwB,CAC1B,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,gBD9EJ,SAASC,EAAchC,GACnB,OAAOA,GACH,KAAKiC,EACD,MAAO,CAAEjC,KAAMiC,GACnB,KAAKA,EACD,MAAO,CAAEjC,KAAMiC,GACnB,KAAKA,EACD,MAAO,CAAEjC,KAAMiC,GACnB,QACI,OAAO,MAInB,SAASC,GAAclC,EAAMmC,GACzB,MAAO,CACHnC,KAAMA,EACNoC,KAAMD,EACNE,WAAYC,KAAKC,OAyHlB,SAASC,GAAgBC,GAC5B,OAAO,SAAAC,GACHtE,GAAI,mBAAoBqE,GACxBC,EA9CG,CACH1C,KAAMiC,IA8CN,IACIzB,EAAW,CAACiC,GAAS,EAAGA,EAAOE,OAAO,IAAI,GAAMC,KAAK,SAACC,GAClD,OAAOH,EA3CZ,CACH1C,KAAMiC,EACNG,KAHWD,EA4CuBU,EAxClCC,WAAYX,EAAKY,KAAKA,KAAK,GAAG3B,QAAQ4B,sBACtCC,OAAQd,E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","file":"static/js/main.860e9d00.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/UB-woodblock-closeup.67ac4b0f.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const LOCATION_CHANGE = '@@router/LOCATION_CHANGE'\n\nexport const SET_LANG = 'SET_LANG'\nexport const SET_PAGE = 'SET_PAGE'\nexport const REQUEST_PAGES = 'REQUEST_PAGES'\nexport const RECEIVE_PAGES = 'RECEIVE_PAGES'\nexport const REQUEST_POSTS = 'REQUEST_POSTS'\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS'\n\nexport const REQUEST_GS = 'REQUEST_GS'\nexport const RECEIVE_GS = 'RECEIVE_GS'\n\nexport const DETAIL_MODAL = 'DETAIL_MODAL'\n\nexport const RECEIVE_MANIFEST = 'RECEIVE_MANIFEST'\nexport const REQUEST_MANIFEST = 'REQUEST_MANIFEST'\nexport const NULLIFY_IIIF = 'NULLIFY_IIIF'\nexport const RECEIVE_IIIF = 'RECEIVE_IIIF'\nexport const REQUEST_IIIF = 'REQUEST_IIIF'\n\nexport const REQUEST_ES_DATA = 'REQUEST_ES_DATA'\nexport const RECEIVE_ES_DATA = 'RECEIVE_ES_DATA'\nexport const RECEIVE_DATA = 'RECEIVE_DATA'\nexport const REQUEST_DATA = 'REQUEST_DATA'\nexport const REQUEST_WORKS = 'REQUEST_WORKS'\nexport const RECEIVE_WORKS = 'RECEIVE_WORKS'\n\nexport const REQUEST_ID = 'REQUEST_ID'\nexport const RECEIVE_ID = 'RECEIVE_ID'\n\nexport const RECEIVE_AUTHORS = 'RECEIVE_AUTHORS'\nexport const REQUEST_AUTHORS = 'REQUEST_AUTHORS'\n\nexport const RECEIVE_TOPICS = 'RECEIVE_TOPICS'\nexport const REQUEST_TOPICS = 'REQUEST_TOPICS'\n\nexport const RECEIVE_SUBJECTS = 'RECEIVE_SUBJECTS'\nexport const REQUEST_SUBJECTS = 'REQUEST_SUBJECTS'\n\nexport const REQUEST_RESOURCES = 'REQUEST_RESOURCES'\nexport const RECEIVE_RESOURCES = 'RECEIVE_RESOURCES'\n\nexport const SET_COLLAPSE = 'SET_COLLAPSE'\nexport const SET_BROWSE = 'SET_BROWSE'\nexport const SET_COLLECTION = 'SET_COLLECTION'","import elasticsearch from 'elasticsearch'\nimport { log } from './actions'\n\nconst port = 9200\n//const host = process.env.NODE_ENV === 'production' ? '157.230.172.69' : 'localhost';\nconst host = '157.230.172.69' // : 'localhost';\n\n\nlet isConnected = false\nlet healthStatus = 'red'\n\nconst client = new elasticsearch.Client({\n\thost: {\n\t\tprotocol: 'http',\n\t\thost: host,\n\t\tport: port,\n\t\tpath: ''\n\t},\n\tlog: 'info' //'trace'\n})\n\nasync function checkConnection() {\n\tlog('process.env.NODE_ENV ', host);\n\twhile(!isConnected) {\n\t\tlog('Connnnnecting....')\n\t\twhile(healthStatus === 'red') {\n\t\t\tlog('awaiting green light')\n\t\t\ttry {\n\t\t\t\tconst health = await client.cluster.health({});\n\t\t\t\tlog('health: ', health)\n\t\t\t\thealthStatus = health.status\n\t\t\t\tisConnected = true\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Connection is failing...', err)\n\t\t\t\tisConnected = false\n\t\t\t}\n\t\t}\n    }\n    \n    // HAVE A LOOK INTO THIS FOR FILTERING OBJECTS\n    // Object.filter = (obj, predicate) => \n    // Object.assign(...Object.keys(obj)\n    //                 .filter( key => predicate(obj[key]) )\n    //                 .map( key => ({ [key]: obj[key] }) ) );\n\n    // STATS MODULE to retreive indices\n    // client.indices.stats({\n    //     index: \"_all\",\n    //     level: \"indices\"\n    //  }, function(err, res) {\n    //     // res contains JSON data about indices stats\n    //     log('stats', res.indices)\n    //  });\n    \n\treturn isConnected\n}\n\nexport { client, checkConnection, isConnected }","import { client } from '../connection'\nimport { searchParams } from '../../store/actions'\n\nexport const initialAuthorSearch = (ids) => {\n\n\tconst body = {\n\n        // aggregations.uniqueAuthors.buckets.map()\n        \n        aggregations: {\n            uniqueAuthors: {\n                terms: {\n                    field: \"workCreator.keyword\",\n                    size: ids.length\n                }\n            }\n        },\n        \n\t\tquery: {\n            ids: {\n                type: searchParams.type,\n                values: ids\n            }\n        }\n\n\t}\n\n\treturn client.search({ index: searchParams.initialIndex, body })\n\n}\n","import { client } from '../connection'\nimport { searchParams } from '../../store/actions'\n\nexport const initialTopicsSearch = (ids) => {\n\n\tconst body = {\n\n        // aggregations.uniqueAuthors.buckets.map()\n        aggregations: {\n            uniqueTopics: {\n                terms: {\n                    field: \"workIsAbout.keyword\",\n                    size: ids.length\n                }\n            }\n        },\n        \n\t\tquery: {\n            ids: {\n                type: searchParams.type,\n                values: ids\n            }\n        }\n\n\t}\n\n\treturn client.search({ index: searchParams.initialIndex, body })\n\n}\n","import { client } from '../connection'\nimport { searchParams, log } from '../../store/actions'\n\nexport const searchByID = (ids, size, code, allSource = false, collection = null) => {\n\n    let sortValue = null\n    let index\n    let source = []\n    let sort = \"asc\"\n    \n    const id_filter = {\n        type: searchParams.type,\n        values: ids\n    }\n\n    const agg_terms = {\n        collections: {\n            terms: {\n                field: '_collection',\n                order: { _count: 'desc' }\n            }\n        }\n    }\n\n    if(code === \"P\") {\n        index = \"v1_bdrc_person\"\n        source = [\"personName\", \"skos:prefLabel\", \"_*\"]\n\n    } else if(code === \"T\") {\n        index = [\"v1_bdrc_person\", \"v1_bdrc_topic\", \"v1_bdrc_work\"]\n        source = [\n            \"personName\", \"@id\", \"note.noteText\", \"skos:prefLabel\", \n            \"workCreator\", \"workIsAbout\",\n            \"_*\"\n        ]\n    }\n    else if(code === \"W\") {\n        index = \"v1_bdrc_work\"\n        sortValue = \"skos:prefLabel.@value.keyword\"\n        source = [\n            \"@id\", \"note.noteText\", \"skos:prefLabel\", \n            \"workCreator\", \"workIsAbout\",\n            \"_*\"\n        ]\n\n    }\n    \n    const body = {\n        size: size,\n        aggregations: agg_terms,\n        query: {\n            bool: {\n                filter: [\n                    { ids: id_filter }\n                ]\n            }\n        }\n    }\n\t\n\n    if(!allSource) { body._source = source }\n    \n    if(sortValue !== null) {\n        // note the [] around variable in the value being appended...?\n        body.sort = [ { [sortValue]: { \"order\" : sort } }]\n    }\n\n\tlog('search by id body', code, body)\n\n\treturn client.search({ index: index, body })\n\n}\n","import { client } from '../connection'\nimport { searchParams } from '../actions/index'\n\nexport const searchIDSbyTerm = (qterm, searchField, qids, index) => {\n\t//log(qterm, index, qids)\n\tconst body = {\n\t\tsize: 18,\n\t\tquery: {\n\t\t\tbool: {\n\t\t\t\tmust: {\n\t\t\t\t\tterm: {\n\t\t\t\t\t\t[searchField]: {\n\t\t\t\t\t\t\tvalue: qterm\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: {\n\t\t\t\t\tids: {\n\t\t\t\t\t\ttype: searchParams.type,\n\t\t\t\t\t\tvalues: qids\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn client.search({ index, body })\n\t\n}","import { log, searchParams } from './index'\nimport * as types from './types'\n//import { collection_v1 } from '../collections/nlm01'\n//import { collection_v2 } from '../collections/nlm02'\nimport { testCollection } from '../collections/testCollection'\n\nimport {\n    initialTopicsSearch,\n    initialAuthorSearch,\n    searchByID,\n    searchResources,\n    searchIDSbyTerm\n} from '../queries'\n\n//collection_v1.push(...collection_v2)\n\nconst collection_v1 = testCollection\n\n/* ******************************************\nDATA\nElasticsearch data from http://142.93.23.6:9200\n********************************************/\nfunction requestESData(type) {\n    switch(type) {\n        case types.REQUEST_WORKS:\n            return { type: types.REQUEST_WORKS }\n        case types.REQUEST_AUTHORS:\n            return { type: types.REQUEST_AUTHORS }\n        case types.REQUEST_SUBJECTS:\n            return { type: types.REQUEST_SUBJECTS }\n        default:\n            return null\n    }\n}\n\nfunction receiveESData(type, json) {\n    return {\n        type: type,\n        data: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\n// const filterCollection = (collection = false) => {\n//     let filteredCollection\n//     if(!collection) {\n//         filteredCollection = collection_v1.concat(collection_v2)\n//     } else {\n//         filteredCollection = collection_v2\n//     }\n//     return filteredCollection\n// }\n\nexport function fetchData() {\n    //const fc = filterCollection(collection)\n    return async dispatch => {\n        dispatch(requestESData(types.REQUEST_WORKS))\n        try {\n            const data = await searchByID(collection_v1, collection_v1.length, \"W\")\n            log('buckets', collection_v1.length, data.aggregations.collections.buckets)\n            const modifiedData = injectPrefLabel(data)\n            return dispatch(receiveESData(types.RECEIVE_WORKS, modifiedData))\n        } catch (error) {\n            console.error('there been fetchData error ', error)\n        }\n    }\n}\n\nexport function fetchAuthors() {\n    //const fc = filterCollection(collection)\n    //log('fetchAuthors receiving', fc.length, fc)\n    return async dispatch => {\n        dispatch(requestESData(types.REQUEST_AUTHORS))\n        try {\n            const a = await initialAuthorSearch(collection_v1)\n            log('#0, authors...')\n            const authors = a.aggregations.uniqueAuthors.buckets.map(a => {\n                return a.key\n            })\n            log('#1, authors keys', authors.length)\n            const data = await searchByID(authors, authors.length, \"P\")\n            log('#2, authors in works')\n            await mutateDataWithRelatedDocs(data, 'workCreator.keyword')\n            log('#3, authors add related docs')\n            const modifiedData = injectPrefLabel(data)\n            return dispatch(receiveESData(types.RECEIVE_AUTHORS, modifiedData))\n        } catch(error) {\n            console.error('been done error in fetchAuthors', error)\n        }\n    }\n}\n\nexport function fetchTopics() {\n    return async dispatch => {\n        dispatch(requestESData(types.REQUEST_SUBJECTS))\n        try {\n            const t = await initialTopicsSearch(collection_v1)\n            log('#0, topics...')\n            const topics = t.aggregations.uniqueTopics.buckets.map(t => {\n                return t.key\n            })\n            log('#1, topics keys', topics.length)\n            const data = await searchByID(topics, topics.length, \"T\")\n            log('#2, topics in works')\n            await mutateDataWithRelatedDocs(data, 'workIsAbout.keyword')\n            log('#3, topic add related docs')\n            \n            const modifiedData = injectPrefLabel(data)\n            \n            return dispatch(receiveESData(types.RECEIVE_SUBJECTS, modifiedData))\n        } catch(error) {\n            console.error('been error in da fetchTopics', error)\n        }\n    }\n}\n\nfunction requestID() {\n    return {\n        type: types.REQUEST_ID\n    }\n}\n\nfunction receiveID(json) {\n    return {\n        type: types.RECEIVE_ID,\n        data: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        imageAsset: json.hits.hits[0]._source.workHasItemImageAsset,\n        volume: json.hits.hits[0]._source.workHasItem,\n        receivedAt: Date.now()\n    }\n}\n\n// function requestResources() {\n//     return {\n//         type: types.REQUEST_RESOURCES\n//     }\n// }\n\n// function receiveResources(json) {\n//     return {\n//         type: types.RECEIVE_RESOURCES,\n//         data: json.hits,\n//         receivedAt: Date.now()\n//     }\n// }\n\nexport const fetchResources = (id, resources) => {\n    return dispatch => {\n        log('fetch resources', id, resources)\n        dispatch(requestESData(types.REQUEST_RESOURCES))\n        try {\n            searchResources(resources).then((data) => {\n                dispatch(receiveESData(types.RECEIVE_RESOURCES, data))\n            })\n        } catch (error) {\n            console.error('fetch resources error, ', error)\n        }\n    }\n}\n\nexport function fetchSpecificID(doc_id) {\n    return dispatch => {  \n        log('fetchSpecificID!', doc_id)\n        dispatch(requestID())\n        try {\n            searchByID([doc_id], 1, doc_id.charAt(4), true).then((dataDetail) => {\n                return dispatch(receiveID(dataDetail))\n            })\n        } catch(error) {\n            console.error('fetch ID error! ', error)\n        }\n    }\n}\n\nconst mutateDataWithRelatedDocs = async (data, searchField) => {\n    // YO!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n    // async within an array.map for a Promise.all :)\n    // but, this is mutating data directly\n    // THIS IS AN ANTI-PATTERN, learn correct pattern\n    await Promise.all(data.hits.hits.map(async (d, i) => {\n        if('_id' in d) {\n            return await searchIDSbyTerm(d._id, searchField, collection_v1, searchParams.initialIndex).then(newData => {\n                //log('within the mutate with related', newData)\n                const modifiedData = injectPrefLabel(newData)\n                return d[\"_related\"] = modifiedData\n                \n            })\n        }\n    }))\n}\n\n// this function should be done in python as pre-processing\n// add _tid to each document before indexing to ES\nconst injectPrefLabel = (data) => {\n    //log('trying to inject preflabel now...')\n    data.hits.hits.map(async p => {\n        let tid\n\n        if(p !== undefined) {\n            if('skos:prefLabel' in p._source) {\n                if(Array.isArray(p._source[\"skos:prefLabel\"])) {\n\n                    if (p._source[\"skos:prefLabel\"].some(l => l[\"@language\"] === 'en')) {\n                        tid = p._source[\"skos:prefLabel\"].find(t => \"en\" === t[\"@language\"])\n                        tid = tid[\"@value\"]\n\n                    } else if (p._source[\"skos:prefLabel\"].some(l => l[\"@language\"] === 'bo-x-ewts')) {\n                        tid = p._source[\"skos:prefLabel\"].find(t => \"bo-x-ewts\" === t[\"@language\"])\n                        tid = tid[\"@value\"]\n\n                    }\n                } else if(typeof p._source[\"skos:prefLabel\"] === 'object') {\n                    tid = p._source[\"skos:prefLabel\"][\"@value\"]\n\n                }\n\n            } else {\n                tid = null\n            }\n        }\n\n        return p[\"_tid\"] = tid\n\n    })\n    \n    data.hits.hits.sort((a, b) => a._tid.localeCompare(b._tid))\n\n    return data\n}\n","export const testCollection = [\n    \"bdr:W1NLM1\",\n    \"bdr:W1NLM2\",\n    \"bdr:W1NLM3\",\n    \"bdr:W1NLM4\",\n    \"bdr:W1NLM5\",\n    \"bdr:W1NLM6\",\n    \"bdr:W1NLM7\",\n    \"bdr:W1NLM8\",\n    \"bdr:W1NLM9\",\n    \"bdr:W1NLM10\",\n    \"bdr:W1NLM11\",\n    \"bdr:W1NLM12\",\n    \"bdr:W1NLM13\",\n    \"bdr:W1NLM14\",\n    \"bdr:W1NLM15\",\n    \"bdr:W1NLM16\",\n    \"bdr:W1NLM17\",\n    \"bdr:W1NLM18\",\n    \"bdr:W1NLM19\",\n    \"bdr:W1NLM20\",\n    \"bdr:W1NLM21\",\n    \"bdr:W1NLM22\",\n    \"bdr:W1NLM23\",\n    \"bdr:W1NLM24\",\n    \"bdr:W1NLM25\",\n    \"bdr:W1NLM26\",\n    \"bdr:W1NLM27\",\n    \"bdr:W1NLM28\",\n    \"bdr:W1NLM29\",\n    \"bdr:W1NLM30\",\n    \"bdr:W1NLM31\",\n    \"bdr:W1NLM32\",\n    \"bdr:W1NLM33\",\n    \"bdr:W1NLM34\",\n    \"bdr:W1NLM35\",\n    \"bdr:W1NLM36\",\n    \"bdr:W1NLM37\",\n    \"bdr:W1NLM38\",\n    \"bdr:W1NLM39\",\n    \"bdr:W1NLM40\",\n    \"bdr:W1NLM41\",\n    \"bdr:W1NLM42\",\n    \"bdr:W1NLM43\",\n    \"bdr:W1NLM44\",\n    \"bdr:W1NLM45\",\n    \"bdr:W1NLM46\",\n    \"bdr:W1NLM47\",\n    \"bdr:W1NLM48\",\n    \"bdr:W1NLM49\",\n    \"bdr:W1NLM50\",\n    \"bdr:W1NLM51\",\n    \"bdr:W1NLM52\",\n    \"bdr:W1NLM53\",\n    \"bdr:W1NLM54\",\n    \"bdr:W1NLM55\",\n    \"bdr:W1NLM56\",\n    \"bdr:W1NLM57\",\n    \"bdr:W1NLM58\",\n    \"bdr:W1NLM59\",\n    \"bdr:W1NLM60\",\n    \"bdr:W1NLM61\",\n    \"bdr:W1NLM62\",\n    \"bdr:W1NLM63\",\n    \"bdr:W1NLM64\",\n    \"bdr:W1NLM65\",\n    \"bdr:W1NLM66\",\n    \"bdr:W1NLM67\",\n    \"bdr:W1NLM68\",\n    \"bdr:W1NLM69\",\n    \"bdr:W1NLM70\",\n    \"bdr:W1NLM71\",\n    \"bdr:W1NLM72\",\n    \"bdr:W1NLM73\",\n    \"bdr:W1NLM74\",\n    \"bdr:W1NLM75\",\n    \"bdr:W1NLM76\",\n    \"bdr:W1NLM77\",\n    \"bdr:W1NLM78\",\n    \"bdr:W1NLM79\",\n    \"bdr:W1NLM80\",\n    \"bdr:W1NLM81\",\n    \"bdr:W1NLM82\",\n    \"bdr:W1NLM83\",\n    \"bdr:W1NLM84\",\n    \"bdr:W1NLM85\",\n    \"bdr:W1NLM86\",\n    \"bdr:W1NLM87\",\n    \"bdr:W1NLM88\",\n    \"bdr:W1NLM89\",\n    \"bdr:W1NLM90\",\n    \"bdr:W1NLM91\",\n    \"bdr:W1NLM92\",\n    \"bdr:W1NLM93\",\n    \"bdr:W1NLM94\",\n    \"bdr:W1NLM95\",\n    \"bdr:W1NLM96\",\n    \"bdr:W1NLM97\",\n    \"bdr:W1NLM98\",\n    \"bdr:W1NLM99\",\n    \"bdr:W1NLM100\"\n]","import Tabletop from 'tabletop'\nimport * as types from './types'\nimport { log } from './index'\n\nconst d = `https://docs.google.com/spreadsheets/d/`\nconst gsKey = `1hPqe-Y2TWwMTAxIEXYvc8du_GMFUJQNPvZbJou7veAY`\n//const testKey = `1P6Dk9SN0af7GDitw7-tRXGc5N22AEXoaOpDIKzVdlK0`\nconst spreadSheet = `${d}${gsKey}/edit?usp=sharing`\n\nfunction requestGS() {\n    return {\n        type: types.REQUEST_GS\n    }\n}\n\nfunction receiveGS(gs) {\n    return {\n        type: types.RECEIVE_GS,\n        gs: gs,\n        receivedAt: Date.now()\n    }\n}\n\nconst tableTopInit = async () => {\n    return await new Promise((response, error) => {\n        Tabletop.init({\n            key: spreadSheet,\n            callback: (data, tabletop) => { \n                response(data.Stats.elements)\n                error(tabletop)\n            }\n            //, simpleSheet: true\n        })\n    })\n}\n\nexport function getGS() {\n    return async dispatch => {\n        dispatch(requestGS())\n        try {\n            const data = await tableTopInit()\n            log('GS Data:', data)\n            // add some data processing\n            let gsData = {}\n            data.map(d => {\n                const key = d.StatName.split(' ').join('')\n                gsData[key] = isNaN(d.Value) ? d.Value : String(d.Value).replace(/(.)(?=(\\d{3})+$)/g,'$1,')\n            })\n            return dispatch(receiveGS(gsData))\n        } catch(error) {\n            console.error('error from tabletop', error)\n        }\n    }\n}\n","import * as types from './types'\nimport { languages } from './index'\n\nexport const nodeWP = 'http://178.128.7.239/'\nexport const onlyIP = '178.128.7.239'\n\nconst endpointWP = 'wp-json/wp/v2/'\n\n/* ******************************************\nPAGES\nwp pages for content pages (about, preservation)\n********************************************/\n\nfunction requestPages() {\n    return {\n        type: types.REQUEST_PAGES\n    }\n}\n\nfunction receivePages(json) {\n    return {\n        type: types.RECEIVE_PAGES,\n        pages: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\nexport function fetchPages() {\n    return function(dispatch) {\n        dispatch(requestPages())\n        return fetch(`${nodeWP}${endpointWP}pages?_embed`)\n            .then(\n                response => response.json(),\n                error => console.log('An error ', error)    \n            )\n            .then(json => {\n                //reduce using empty array to group by language\n                //console.log('json pages', json)\n                return json.reduce((r, a) => {\n                    const x = Object.keys(languages).find(key => languages[key] === a.acf.language)\n                    r[x] = r[x] || [];\n                    r[x].push(a);\n                    return r;\n                }, []);\n            })\n            .then(json => { \n                // do NOT receivePages until there are pages!\n                dispatch(receivePages(json)) \n            })\n    }\n}","import * as types from './types'\nimport { languages } from './index'\n\nconst nodeWP = 'http://178.128.7.239/'\nconst endpointWP = 'wp-json/wp/v2/'\n\n/* ******************************************\nPOSTS\nwp posts for home page content\n********************************************/\n\nfunction requestPosts() {\n    return {\n        type: types.REQUEST_POSTS\n    }\n}\n\nfunction receivePosts(json) {\n    return {\n        type: types.RECEIVE_POSTS,\n        posts: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\nexport function fetchPosts() {\n    return function(dispatch) {\n        dispatch(requestPosts())\n        return fetch(`${nodeWP}${endpointWP}posts?_embed`)\n            .then(\n                response => response.json(),\n                error => console.log('An error ', error)    \n            )\n            .then(json => {\n                //reduce using empty array to group by language\n                return json.reduce((r, a) => {\n                    const x = Object.keys(languages).find(key => languages[key] === a.acf.language)\n                    r[x] = r[x] || [];\n                    r[x].push(a);\n                    return r;\n                }, []);\n            })\n            .then(json =>\n                dispatch(receivePosts(json))\n            )\n    }\n}","export const log = (...msgs) => {\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconsole.log(...msgs)\n\t}\n}\n\n// ES6 sort\nexport const sortNestedES6 = (nestedItem, prop, arr) => {\n    return arr.sort((a, b) => {\n        return a[nestedItem][prop].localeCompare((b[nestedItem][prop]))\n    })\n}\n\n// arr is the array of objects, prop is the property to sort by\nexport const sortNested = (nestedObj, prop, arr) => {\n    return arr.sort((a, b) => {\n        if (a[nestedObj][prop] < b[nestedObj][prop]) {\n            return -1;\n        } else if (a[nestedObj][prop] > b[nestedObj][prop]) {\n            return 1;\n        } else {\n            return 0;\n        }\n    })\n}\n","//import React from 'react'\nimport { log } from '..'\n\n// NOTES *********************************************\nexport const unpackNotes = (arr, notesArray = [], possibleIDs = []) => {\n    \n    if(arr == null) {\n        return null\n    } else if(Array.isArray(arr)) {\n        \n        arr.map((a) => {\n            if(typeof a === 'object') {\n                return unpackNotes(a, notesArray, possibleIDs)\n            } \n        })\n\n    } else if(typeof arr === 'object') {\n        \n        if('noteText' in arr) {\n            //log('note object', arr.noteText)\n            if('@value' in arr.noteText) {\n                //log(arr.noteText['@value'].toLowerCase().includes('nlmid'), arr.noteText['@value'])\n                if(arr.noteText['@value'].toLowerCase().includes('nlmid')) {\n                    //grabNLMID(arr.noteText['@value'])\n                    possibleIDs.push(arr.noteText['@value'])\n                } else {\n                    notesArray.push(arr.noteText['@value'])\n                }\n            }\n            \n        }\n    } else if(typeof arr === 'string') {\n        //log('notes string', arr)\n    }\n    //log('the notes array', notesArray)\n    let id = possibleIDs.find(a =>a.toLowerCase().includes(\"nlmid\"))\n    return { parsedNotes: notesArray.sort(), nlmIDs: id == null ? null : id }\n\n}","import React from 'react'\nimport { log } from '../index'\n\nconst namesOfInterest = ['primary', 'personal']\n\nexport const unpackPersonName = (arr) => {\n    if(arr == null) {\n        return null\n    } else if(Array.isArray(arr)) {\n        return arr.map((a, i) => {\n            if(typeof a === 'object') {\n                return unpackPersonName(a)\n            } else if(a.substring(0,3) === 'bdr') {\n                return (\n                    <div key={i} className=\"card-sub-item\">\n                        <div>{a}</div>\n                    </div> \n                )\n            } else {\n                return ( <div key={i} className=\"card-sub-item\">{a}</div>)\n            }\n            \n        })\n    } else if (typeof arr === 'object') {\n        // re-factor to allow for retreival of '@value' from any key\n        if(arr.hasOwnProperty('type')) {\n            if(namesOfInterest.some(s => arr.type.toLowerCase().includes(s))) {\n                return unpackNames(arr, arr.type)\n            }\n        } else {\n            return (\n                <p key={arr['@value']} className=\"meta-item\">\n                    <span className=\"meta-title\">{arr['@value']}</span>\n                </p>\n            )\n        }\n        \n    } else if (typeof arr === 'string') {\n        if(arr.substring(0,3) === 'bdr') {\n            return ( <div onClick={() => this.showModal(arr.split(\":\")[1])}>{arr}</div> )\n        } else {\n            return arr\n        }\n        \n    }\n}\n\nexport const unpackNames = (arr, type) => {\n    \n    if(Array.isArray(arr['rdfs:label'])) {\n        \n        const a = arr['rdfs:label'].map((l, i) => {\n            return (\n                <span>\n                    <span className=\"meta-italics\">({l['@language']}): </span>\n                    <span className=\"meta-title\">{l['@value']}</span>\n                </span>\n            )}\n        )\n\n        return (\n            <p key={type} className=\"meta-item with-fa\">\n                <span className=\"meta-detail\">{type.substring(6)}:</span>\n                {a}\n            </p>\n        )\n\n    } else {\n        return (\n            <p key={type} className=\"meta-item with-fa\">\n                <span className=\"meta-detail\">{type.substring(6)}: </span>\n                <span className=\"meta-italics\">({arr['rdfs:label']['@language']}): </span>\n                <span className=\"meta-title\">{arr['rdfs:label']['@value']}</span>\n            </p>\n        )\n    }\n}","import { log } from '../../actions'\n\nexport const unpackPersonEvent = (arr, lifeEvents = [], workEvents = []) => {\n    let events = []\n    if(arr == null) {\n        return null\n\n    } else if(Array.isArray(arr)) {\n        \n        arr.map((a) => {\n            if(typeof a === 'object') {\n                return unpackPersonEvent(a, lifeEvents, workEvents)\n            } \n        })\n\n    } else if (typeof arr === 'object') {\n        \n        if(arr.type === 'PersonBirth' || arr.type === 'PersonDeath') {\n            const typeEvent = arr.type.includes('Birth') ? 'Born' : 'Died'\n            if('onYear' in arr) {\n                lifeEvents.push(`${typeEvent} in ${arr.onYear}`)\n            } else if(Object.keys(arr).some((k) => { return ~k.indexOf(\"not\") })){\n                lifeEvents.push(`${typeEvent} between ${arr.notBefore} and ${arr.notAfter}`)\n            }\n        } else if(arr.type === 'PersonOccupiesSeat') {\n            if('eventWhere' in arr) {\n                workEvents.push(arr.eventWhere)\n            }\n            \n        }\n\n    }\n    \n    events.push(lifeEvents.sort())\n    events.push(workEvents.sort())\n    log(events)\n    return events    \n}\n\nexport const unpackPersonEventObj = (arr, lifeEvents = [], workEvents = []) => {\n    if(arr.type === 'PersonBirth' || arr.type === 'PersonDeath') {\n        const typeEvent = arr.type.includes('Birth') ? 'Born' : 'Died'\n        if('onYear' in arr) {\n            lifeEvents.push(`${typeEvent} in ${arr.onYear}`)\n        } else if(Object.keys(arr).some((k) => { return ~k.indexOf(\"not\") })){\n            lifeEvents.push(`${typeEvent} between ${arr.notBefore} and ${arr.notAfter}`)\n        }\n    } else if(arr.type === 'PersonOccupiesSeat') {\n        if('eventWhere' in arr) {\n            workEvents.push(arr.eventWhere)\n        }\n        \n    }\n}","import { log } from '../../actions'\n\nexport * from './bdrcNotes'\nexport * from './bdrcPerson'\nexport * from './bdrcPersonEvent'\n\nexport const unpackOntology = (arr, stringArray = []) => {\n    log('unpacking ontology', arr)\n    if(arr == null) {\n        return null\n    } else if(Array.isArray(arr)) {\n        arr.map((a, i) => {\n            if(typeof a === 'object') {\n                return unpackOntology(a, stringArray)\n            } else if(a.substring(0,3) === 'bdr') {\n                stringArray.push(a)\n            } else {\n                stringArray.push(a)\n            }\n            \n        })\n        return stringArray\n    } else if (typeof arr === 'object') {\n        if('@value' in arr) {\n            return arr['@value']\n        }\n        \n    } else if (typeof arr === 'string') {\n        if(arr.substring(0,3) === 'bdr') {\n            return arr\n        } else {\n            return arr\n        }\n    }\n}","import { SET_LANG, SET_PAGE, SET_COLLAPSE, SET_BROWSE, SET_COLLECTION } from './types'\n\nexport * from './searchActions'\nexport * from './googleSheetsActions'\nexport * from './WPPagesActions'\nexport * from './WPPostsActions'\nexport * from './utilityActions'\nexport * from './ontology'\n\nexport const buildYear = '2018'\nexport const defaultLanguage = 'en'\nexport const languages = {\n  en: \"English\",\n  mn: \"Mongolian\"\n}\n\nexport const browseOptions = ['Title', 'Author', 'Subject']\nexport const browseOptionsObj = [\n  {browse: 'Title', stateType: 'esWorks'},\n  {browse: 'Author', stateType: 'esAuthors'},\n  {browse: 'Subject', stateType: 'esSubjects'}\n]\n\nexport const bdrGender = {\n  \"bdr:GenderMale\": \"Male\",\n  \"bdr:GenderFemale\": \"Female\"\n}\n\nexport const bdrObjectType = {\n  \"bdr:ObjectTypeBlockprint\": \"Blockprint\"\n}\n\nexport const collections = [\n  {key: '1', name: 'Collection 1'},\n  {key: '2', name: 'Collection 2'}\n]\n\nexport const searchParams = {\n  initialIndex: 'v1_bdrc_work',\n  type: '_doc',\n  size: 10\n}\n\nexport const v1Indices = ['v1_*']\nexport const v2Indices = ['v2_*']\n\nconst IIIFImageAPI = {\n  region: 'full',\n  size: 'max', //',184', //',92', 'max'\n  rotation: '0',\n  qualityAndFormat: 'default.jpg'\n}\n\nexport const IIIFsuffix = \n  `/${IIIFImageAPI.region}/${IIIFImageAPI.size}/${IIIFImageAPI.rotation}/${IIIFImageAPI.qualityAndFormat}`\n\nexport const setLanguage = language => ({\n  type: SET_LANG,\n  language\n})\n\nexport const setPage = page => ({\n    type: SET_PAGE,\n    page\n})\n\nexport const setCollapse = collapse => ({\n  type: SET_COLLAPSE,\n  collapse\n})\n\nexport const setCollection = collection => ({\n  type: SET_COLLECTION,\n  collection\n})\n\nexport const setBrowse = browse => ({\n  type: SET_BROWSE,\n  browse\n})","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withNamespaces } from 'react-i18next'\n\nimport { defaultLanguage, setLanguage } from '../../store/actions'\n\nimport '../../assets/css/navbar.css'\n\nconst Language = ({ active, children, dispatch, lang, i18n }) => {\n\n  const changeI18n = (lng) => {\n    console.log('in language connector with', lng)\n    i18n.changeLanguage(lng);\n  }\n  \n  return (\n    <li\n      key={children}\n      onClick={() => {\n        dispatch(setLanguage(lang))\n        changeI18n(lang)\n        }}\n      className={active ? \"lang-active\" : \"lang\"}\n      style={active ? \n        { color: 'red', } :\n        { color: 'black', } \n        }\n    >\n    <button\n      key={children}\n      disabled={active ? true : false}\n      className=\"btn-lang\">\n      {children}\n    </button>\n    </li>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  active: ownProps.selectedLanguage === state.selectedLanguage,\n  lang: ownProps.selectedLanguage || defaultLanguage\n})\n\nconst withN = new withNamespaces()(Language)\nexport default connect(mapStateToProps)(withN)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Language from './containers/Language'\n\nimport { withNamespaces } from 'react-i18next'\n\nimport { Link } from 'react-router-dom'\n\nimport '../assets/css/navbar.css'\n\n// language codes, ISO 639-1\n// mongolian - mn, english - en, tibetan - bo\nconst Languages = (props) => {\n    let list = []\n    //list = Object.entries(props.t('languageCodes')).map(([k, l]) => {\n        list = Object.entries(props.t('languageCodes')).map(([k, l]) => {\n            //const p = props.page === 'home' ? '' : `/${props.t('pages')[props.page]}`\n            const p = props.page === 'home' ? '' : `/${props.page}`\n            return (\n                <Link key={k} to={`/${k}${p}`} >\n                    <Language key={l} selectedLanguage={k}>\n                        {l}\n                    </Language>\n                </Link>\n            )\n        })\n    return (\n        <ul className=\"language-list\">{list}</ul>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    page: state.selectedPage\n})\n\nconst withN = new withNamespaces()(Languages)\n//export default withRouter(connect(mapStateToProps)(withN))\nexport default connect(mapStateToProps)(withN)\n//export default withRouter(withNamespaces()(Languages))\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { setPage } from '../../store/actions'\nimport { connect } from 'react-redux'\nimport '../../assets/css/navbar.css'\n\nconst NavItem = ({ active, children, onClick }) => (\n    <li\n      key={children}\n       onClick={active ? null : onClick}\n       className={active ? \"nav-active\" : \"nav\"}\n       style={active ? \n        { color: 'red', } :\n        { color: 'black', } \n        }\n    >\n    <button\n      key={children}\n      disabled={active ? true : false}\n      className=\"btn-nav\">\n      {children}\n    </button>\n    </li>\n)\n\nNavItem.propTypes = {\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func.isRequired\n}\n\n\n\nconst mapStateToProps = (state, ownProps) => ({\n  active: ownProps.selectedPage === state.selectedPage\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    onClick: () => dispatch(setPage(ownProps.selectedPage)) \n  });\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NavItem)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport NavItem from './containers/NavItem'\nimport { withNamespaces } from 'react-i18next'\nimport '../assets/css/navbar.css'\n\nconst NavBar = (props) => {\n  \n  // THIS NAV BAR GETS RENDERED TOO MUCH, NEED TO REFACTOR\n  //log('creating navbar with props', props.navigation)\n    // matching page nav with translated 'pages' object // t('pages')[nav.match] // obj[key]\n    const slugs = props.navigation.map(nav => {\n      const p = nav.match === 'home' ? '' : `/${nav.match}`\n        return (\n          <Link key={nav.slug} to={`/${props.lng}${p}`}>\n            <NavItem key={nav.slug} selectedPage={nav.match}>\n              {props.t('pages')[nav.match]}\n            </NavItem>\n          </Link>\n        )\n      })\n\n    return (\n\t\t<ul className=\"nav-list\">\n\t\t\t{slugs}\n\t\t</ul>\n    )\n\n}\n\nconst createNavigation = (pages) => {\n  \n    return pages.map(c => {\n        return {\n          //match: c.slug.substring(0,4),\n          match: c.slug.split('-')[0],\n          title: c.slug.substring(0,4) ==='home' ? 'Home' : c.title.rendered,\n          slug: c.slug,\n          order: c.menu_order\n        }\n      })\n      \n}\n\nconst mapStateToProps = (state) => ({\n    navigation: createNavigation(state.pages.items[state.selectedLanguage]),\n    lang: state.selectedLanguage,\n    page: state.selectedPage\n})\n\nconst withN = new withNamespaces()(NavBar)\nexport default connect(mapStateToProps)(withN)","import React from 'react'\n\nimport Languages from './Languages'\nimport NavBar from './Nav'\n\nimport '../assets/css/header.css'\n\nexport const Header = () => {\n    return (\n        <header id=\"header\">\n\t\t\t<Languages />\n            <NavBar />\n\t\t</header>\n    )\n}","import React from 'react'\nimport { withNamespaces } from 'react-i18next'\nimport { onlyIP, buildYear } from '../store/actions'\n\nimport '../assets/css/footer.css'\n\nconst Footer = ({t}) => {\n    return (\n        <footer id=\"footer\">\n            <div className=\"icon\">\n              <img \n                src={`http://${onlyIP}/wp-content/uploads/2018/10/nlm-logo-no-text.png`} \n                alt=\"mongolia-logo\" />\n            </div>\n            {/* <ul className=\"alt-icons\">\n                <li><a href=\"#1\" className=\"icon fa-twitter\"><span className=\"label\">Twitter</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-facebook\"><span className=\"label\">Facebook</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-linkedin\"><span className=\"label\">LinkedIn</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-github\"><span className=\"label\">GitHub</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-phone\"><span className=\"label\">Phone</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-envelope\"><span className=\"label\">Email</span></a></li>\n            </ul> */}\n            <ul className=\"menu\">\n                <li>\n                    <a \n                        href=\"mailto:info@asianclassics.org\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\">\n                            {t('footer.contact')}\n                    </a>\n                </li>\n                <li>\n                    <a \n                        href=\"http://nationallibrary.mn/mn/\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\">\n                            {t('footer.library-site')}\n                    </a>\n                </li>\n                <li>\n                    <a \n                        href=\"http://178.128.7.239/wp-login.php\" \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            {t('footer.login')}\n                    </a>\n                </li>\n            </ul>\n            <p className=\"copyright\">\n                &copy; {`${buildYear} ${t('title')}. ${t('footer.rights')}.`}\n            </p>\n        </footer>\n    )\n}\n\nexport default withNamespaces()(Footer)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { sortNested } from '../store/actions'\nimport '../assets/css/posts.css'\n\n\n\nconst Posts = ({ posts }) => {\n    //console.log(posts)\n    if(!posts) {\n        return <div></div>\n    }\n\n    //const c = sortNested('acf', 'order', posts)\n    \n    return posts.map((post, i) => {\n\n        //strange method to make alternating styles\n        let j = i % 2 === 0 ? 1 : 3;\n        \n        let mediaURL = \"\"\n        if(post._embedded[\"wp:featuredmedia\"]) {\n            mediaURL = post._embedded[\"wp:featuredmedia\"][0].source_url || \"\"\n        }\n\n        if(parseInt(post.acf.columns) === 2) {\n            return (\n                <section key={i} id={i} className={`wrapper special style${j}`}>\n                    <div className=\"inner\">\n                        <section className=\"spotlights\">\n                            <section>\n                                <h2>{post.acf.title}</h2>\n                                <span className=\"image\"><img src={mediaURL} alt=\"\" /></span>\n                            </section>\n                            <section>\n                                <p dangerouslySetInnerHTML={{__html: post.content.rendered}} />\n                            </section>\n                        </section>\n                    </div>\n                </section>\n            )\n        } else {\n            return (\n                <section key={i} id={i} className={`wrapper special style${j}`}>\n                    <div className=\"inner\">\n                        <section className=\"spotlights col1\">\n                            <section>\n                                <h2>{post.acf.title}</h2>\n                                <span className=\"image\"><img src={mediaURL} alt=\"\" /></span>\n                                <p dangerouslySetInnerHTML={{__html: post.content.rendered}} />\n                            </section>\n                        </section>\n                    </div>\n                </section>\n            )\n        }\n    })  \n}\n\nconst mapStateToProps = (state) => ({\n    fetchingPosts: state.posts.isFetching,\n    selectedLanguage: state.selectedLanguage,\n    posts: state.posts.isFetching ? [] : sortNested('acf', 'order', state.posts.items[state.selectedLanguage])\n})\n\nexport default connect(mapStateToProps)(Posts)\n","import React from 'react'\nimport img from '../assets/images/UB-woodblock-closeup.jpg'\nimport '../assets/css/stats.css'\n\n\nconst Stats = ({ stats, t }) => {\n    let statList\n    if(Object.entries(stats).length === 0 && stats.constructor === Object) {\n        statList = (<div className=\"blinky\">{t('technical.loading')}</div>)\n    } else {\n        statList = (\n            <ul className=\"list-stats\">\n                <li className=\"stat-item\">\n                    <p>{t('stats.LastUpdate')}: <em>{stats.LastUpdate}</em></p>\n                </li>\n                <li className=\"stat-item\">\n                <p>{t('stats.PagesDigitized')}: <em>{stats.PagesDigitized}</em></p>\n                </li>\n                <li className=\"stat-item\">\n                <p>{t('stats.VolumesDigitized')}: <em>{stats.VolumesDigitized}</em></p>\n                </li>\n                <li className=\"stat-item\">\n                <p>{t('stats.VolumesCataloged')}: <em>{stats[\"VolumesCataloged(normalized)\"]}</em></p>\n                </li>\n                <li className=\"stat-item\">\n                <p>{t('stats.TitlesCataloged')}: <em>{stats[\"TitlesCataloged(ACIP)\"]}</em></p>\n                </li>\n            </ul>\n        )\n    }\n\n    return (\n        <section className=\"wrapper special style3\">\n            <div className=\"inner\">\n                <section className=\"spotlights\">\n                    <section>\n                        <h2>{t('stats.Title')}</h2>\n                        {statList}\n                    </section>\n                    <section>\n                        <span className=\"image\"><img src={img} alt=\"\" /></span>\n                    </section>\n                </section>\n            </div>\n        </section>\n    )\n    \n}\n\nexport default Stats\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withNamespaces } from 'react-i18next'\n\nimport { setBrowse, setCollection, log, browseOptionsObj } from '../store/actions'\n\nimport '../assets/css/sidebar.css'\n\nclass Sidebar extends Component {\n\n    handleCollectionFiltering = (updatedCollection) => {\n        this.props.dispatch(setCollection(updatedCollection))\n    }\n    \n    render() {\n        return (\n            <div className=\"sidenav wrapper style1\">\n                <div className=\"sidenav-title\">{`${this.props.t('sidebar.browse')}:`}</div>\n                <form>\n                    {browseOptionsObj.map(o => {\n                        o.browse === 'Title' ? log(this.props[`number_${o.stateType}`]) : log('hi')\n                        return (\n                            <div key={o.browse} className=\"col-4 col-12-small\">\n                                <input\n                                    id={o.browse}\n                                    type=\"radio\"\n                                    value={o.browse}\n                                    checked={this.props.browse === o.browse}\n                                    onChange={(e) => this.props.dispatch(setBrowse(e.target.value))}\n                                />\n                                <label htmlFor={o.browse}>{this.props.t(`browse.${o.browse}`)}</label>\n                                <span className=\"meta-count\">({this.props[`number_${o.stateType}`]})</span>\n                            </div>\n                        )\n                    })}\n\n                    {/* <div className=\"col-4 col-12-small\">\n                        <input\n                            id=\"collapse\"\n                            type=\"checkbox\"\n                            value=\"Collapse All\"\n                            checked={this.props.collapse}\n                            onChange={() => this.props.dispatch(setCollapse(!this.props.collapse))}\n                        />\n                        <label htmlFor=\"collapse\">Collapse All</label>\n                    </div> */}\n                    <div className=\"col-4 col-12-small\">\n                        <input\n                            id=\"filter-collection\"\n                            type=\"checkbox\"\n                            value=\"Collapse All\"\n                            checked={this.props.collection}\n                            onChange={() => this.handleCollectionFiltering(!this.props.collection)}\n                        />\n                        <label htmlFor=\"filter-collection\">{this.props.t('sidebar.filter')}</label>\n                    </div>\n                \n                </form>\n                    \n            </div>\n        )\n    }\n}\n\nconst getNumberOfItems = (data, filter) => {\n    let d\n    if(filter) {\n        d = data.aggregations.collections.buckets.find(t => t.key === 2)\n        d = d.doc_count\n    } else {\n        d = data.hits.total\n    }\n    return d \n}\n\nconst mapStateToProps = (state) => ({\n    collapse: state.setCollapse,\n    browse: state.setBrowse,\n    collection: state.setCollection,\n    number_esWorks: state.esWorks.isFetching ? 'Loading...' : getNumberOfItems(state.esWorks.items, state.setCollection),\n    number_esAuthors: state.esAuthors.isFetching ? 'Loading...' : getNumberOfItems(state.esAuthors.items, state.setCollection),\n    number_esSubjects: state.esSubjects.isFetching ? 'Loading...' : getNumberOfItems(state.esSubjects.items, state.setCollection)\n})\n\nconst withN = new withNamespaces()(Sidebar)\nexport default connect(mapStateToProps)(withN)","import React from 'react'\nimport '../assets/css/items.css'\n\nconst SubItems = ({related, setImage, handleShowModal}) => {\n    if(related == null) {\n        return null\n    }\n\n    const relatedItems = related.hits.hits.map((d, i) => {\n        const { _resources, _firstImageURL, _manifestURL, 'adm:access': _access } = d._source\n        let imageURL = setImage(_firstImageURL, _access)\n        return (\n            <div \n                key={i} \n                className=\"subitems card-item-link\"\n                onClick={() =>  handleShowModal(d._id, d._tid, _resources, imageURL, _manifestURL)}\n            >\n                {d._tid}\n            </div>\n        )\n    })\n    return (\n        <div>\n            {relatedItems}\n        </div>\n    )\n}\n\nexport default SubItems\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withNamespaces } from 'react-i18next'\nimport { log, \n    unpackPersonEvent, unpackPersonName, unpackNotes, unpackOntology,\n    bdrGender, bdrObjectType } from '../store/actions'\nimport '../assets/css/modal.css'\n\nclass Modal extends Component {\n\n    buildImg = (t, access, firstImage) => {\n        let img = null\n        if(access === 'restricted') {\n            img = (\n                <div>{t('modal.image-restricted')}</div>\n            )\n        } //else if(firstImage === 'No Image') { img = null } \n          else if(firstImage === 'Not Found') {\n            img = (\n                <div>{t('modal.image-not-found')}</div>\n            )\n        } else if(firstImage == null) {\n            img = (\n                <div className=\"blinky\">{t('technical.loading-image')}</div>\n            )\n        } else {\n            img = (\n                <img src={firstImage} width=\"100%\" alt=\"scan\" />\n            )\n        }\n        return img\n    }\n\n    buildWorkMetadata = (source) => {\n        let {\n            workExtentStatement,\n            workLangScript,\n            workNumberOfVolumes,\n            workObjectType,\n            workPublisherName\n        } = source\n\n        let objectType = workObjectType ? unpackOntology(workObjectType) : null\n        let pubName = workPublisherName ? unpackOntology(workPublisherName) : null\n        //let pubLoc = workPublisherLocation ? <span>{` at ${workPublisherLocation}`}</span> : null\n        return (\n            <ul className=\"meta-detail-list\">\n                {!objectType ? null : <li className=\"meta-item all-caps\">Print type: <span className=\"no-trans\">{bdrObjectType[objectType]}</span></li>}\n                \n                {!pubName ? null : <li className=\"meta-item all-caps\">Published by: <span className=\"no-trans\">{pubName}</span></li>}\n                {!workExtentStatement ? null : \n                    <li className=\"meta-item all-caps\">Work extent: <span className=\"no-trans\">{workExtentStatement}, in {workNumberOfVolumes} volume(s)</span></li>\n                }\n                {!workLangScript ? null : <li className=\"meta-item all-caps\">Language: <span className=\"no-trans\">{workLangScript}</span></li>}\n            </ul>\n        )\n    }\n\n    buildAttribution = (t) => {\n        return (\n            <p className=\"meta-detail\">\n                <span>{t('archives.attribution')}</span>\n            </p>\n        )\n    }\n\n    buildScansBtn(access, t) {\n        let btn = null\n        if(this.props.manifestURL == null) {\n            return null\n        }\n        if(this.props.manifestURL !== undefined) {\n            //window.localStorage.setItem(\"manifestURL\", this.props.manifestURL)\n            if(this.props.manifestURL.length === 0) {\n                //window.localStorage.setItem(\"manifestURL\", \"\")\n                btn = null\n            } else if(access === 'restricted') {\n                btn = (\n                    <button disabled={true}>\n                        <i className=\"fa fa-2x fa-eye-slash\"></i> {t('modal.scans-restricted')}\n                    </button>\n                )\n            } else {\n                btn = ( \n                    <a \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        href={process.env.PUBLIC_URL + '/uv.html?manifest=' + this.props.manifestURL}>\n                        <button>\n                            <i className=\"fa fa-2x fa-eye\"></i> {t('modal.scans')}\n                        </button>\n                    </a>\n                )\n            }\n        }\n        return btn\n    }\n\n    parseModalDetails = ({ modalDetails, workDetail, hideModal, firstImage, t }) => {\n        // vars common to all types\n        let source = workDetail._source\n        let { \n            '@id': id,\n            type,\n            note,\n            'adm:access': _access\n        } = source\n\n        //set access to restricted if needed\n        const access = _access == null || !_access.toLowerCase().includes('restricted') ? null : 'restricted'\n\n        //if truthy, unpack, also nlm id is found in the notes section\n        let parsedNotes = null, nlmIDs = null\n        if(note) { ({ parsedNotes, nlmIDs } = unpackNotes(note)) }\n\n        // using react fragment here, look into what it does...\n        const notes = !parsedNotes || !parsedNotes.length ? null : (\n            <div className=\"meta-grouping\"> \n                { parsedNotes.map(s => \n                    <React.Fragment>\n                        <p className=\"meta-item with-fa-note\">{s}</p>\n                    </React.Fragment>)\n                }\n            </div> \n        )\n        // ultimately use this block to fetch proper attribution from data\n        // workBiblioNote or workScanInfo\n        const attribution = this.buildAttribution(t)\n\n        // CLOSE BUTTON\n        const closeBtn = (\n            <button className=\"modal-btn\" onClick={hideModal}>\n                <i className=\"fa fa-2x fa-times\"></i> \n                {t('technical.btn-close')}\n            </button>\n        )\n\n        // META DETAILS, like type and IDs\n        const metaDetail = (\n            <div className=\"meta-detail\">\n                <p className=\"meta-item\">\n                    <span>{t('modal.detail')} {id}, </span>\n                    <span> {type}</span>\n                </p>\n                { nlmIDs == null ? null : \n                <p className=\"meta-item\">\n                    <span>NLM ID: {nlmIDs.substring(7).trim()}</span>\n                </p>\n                }\n            </div>\n        ) \n\n        // Render modal depending on type\n        switch(type) {\n            case 'Person':\n                //vars specific to PERSON\n                let {\n                    personEvent,\n                    personName,\n                    personGender\n                } = source\n\n                const buildPersonalDetails = (gender, lifeEvents, workEvents) => {\n                    return [gender, lifeEvents, workEvents].map(d => {\n                        if(d) { return <p className=\"meta-item\">{ d }</p> }\n                    })\n                }\n\n                // EVENTS\n                const events = personEvent == null ? null : unpackPersonEvent(personEvent)\n                let lifeEvents = null, workEvents = null\n                if(events) {\n                    lifeEvents = events[0].length > 0 ? events[0].join(', ') : null\n                    workEvents = events[1].length > 0 ? events[1].join(', ') : null\n                }\n                // GENDER\n                let gender = personGender == null ? null : `Gender: ${bdrGender[personGender]}`\n\n                let personalDetails = gender || lifeEvents || workEvents ?\n                    buildPersonalDetails(gender, lifeEvents, workEvents) : null\n                \n                return (\n                    <div className=\"detail-data\">\n                        {metaDetail}\n                        <div className=\"modal-title\">{modalDetails.label}</div>\n\n                        {!personalDetails ? null : <div className=\"meta-detail\">{personalDetails}</div> }\n                        <div className=\"meta-grouping\">\n                            { unpackPersonName(personName) }\n                        </div>\n                        { notes }\n                        {closeBtn}\n                    </div>\n                )\n            case 'Topic':\n                //vars specific to TOPIC, nothing noted as unique to TOPIC\n                return (\n                    <div className=\"detail-data\">\n                        {metaDetail}\n                        <div className=\"modal-title\">{modalDetails.label}</div>\n                        { notes }\n                        {closeBtn}\n                    </div>\n                )\n            case 'Work':\n                //vars specific to WORK\n                \n                let scanBtn = this.buildScansBtn(access, t)\n                let img = this.buildImg(t, access, firstImage)\n\n                let workMetadata = this.buildWorkMetadata(source)\n\n                let catalog = unpackOntology(source.workCatalogInfo)\n\n                const catalogInfo = !catalog ? null : (\n                    <div className=\"meta-catalog\">\n                            <p className=\"modal-text\">\n                                <span className=\"meta-title\">{ catalog }</span>\n                            </p>\n                        </div>\n                )\n\n                return (\n                    <div className=\"detail-data\">\n                        <div className=\"modal-title\">{modalDetails.label}</div>\n                        \n                        {metaDetail}\n                        \n                        {img}\n                        {attribution}\n                        \n                        { catalogInfo }\n                        { workMetadata }\n                        { notes }\n                        {closeBtn}{scanBtn}\n                    </div>\n                )\n            default:\n                return null\n        }\n    }\n\n    render() {\n        log('modal is being rendered...more than once? need memoized selector!')\n        const showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n        //let data\n\n        if(Object.keys(this.props.workDetail).length === 0) {\n            return (\n                <div className={showHideClassName}>\n                    <section className='modal-main'>\n                        <div className=\"blinky\">{this.props.t('technical.loading')} {this.props.doc_id}</div>\n                        <button className=\"modal-btn\" onClick={this.props.hideModal}>\n                            <i className=\"fa fa-2x fa-times\"></i> \n                            {this.props.t('technical.btn-close')}\n                        </button>\n                    </section>\n                </div>\n            )\n        }\n        return (\n            <div className={showHideClassName}>\n                <section className='modal-main'>\n                    { this.parseModalDetails(this.props) }\n                </section>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = (state) => ({\n    modalDetails: state.detailData.isFetching || state.detailData.modalID === 0 ? {} : state.detailModal,\n    workDetail: state.detailData.isFetching || state.detailModal.modalID === 0 ? {} : state.detailData.item.hits.hits[0],\n    resources: state.esResources.isFetching ? [] : state.esResources,\n    firstImage: state.detailModal.image == null ? null : state.detailModal.image,\n    manifestURL: state.detailModal.manifest,\n    numberVolumes: state.detailData.isFetching || state.detailModal.modalID === 0 ? null : state.detailData.item.hits.hits[0]._source.workNumberOfVolumes,\n})\n\nconst withN = withNamespaces()(Modal)\nexport default connect(mapStateToProps)(withN)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport SubItems from './SubItems'\nimport Modal from './Modal'\nimport { fetchSpecificID, browseOptionsObj, IIIFsuffix } from '../store/actions'\n\n//import { log } from '../store/connection'\n\nimport '../assets/css/items.css'\n\nclass Items extends Component {\n\n    // fetch ID from ES and show modal\n    handleShowModal = (doc_id, label = '', resources = null, imageURL = null, manifestURL = null) => {\n        this.props.dispatch(fetchSpecificID(doc_id))\n        //this.props.dispatch(fetchResources(doc_id, resources))\n        this.props.dispatch(\n            { type: 'DETAIL_MODAL', modalID: doc_id, label: label, resources: resources, image: imageURL, manifest: manifestURL, show: true }\n        )\n    }\n\n    // close modal and nullify the IIIF image so there's no flash\n    // of previous image on next modal\n    handleHideModal = () => {\n        this.props.dispatch({ type: 'DETAIL_MODAL', show: false})\n        this.props.dispatch({ type: 'NULLIFY_IIIF'})\n    }\n\n    setImageURL = (img, access) => {\n        if(access === 'bdr:AccessRestrictedSealed') {\n            return 'Restricted Access'\n        } else if(img == null) {\n            return 'No Image'\n        } else if(img === 'Not Found') {\n            return 'Not Found'\n        } else {\n            return `${img}/${IIIFsuffix}`\n        }\n    }\n\n    render() {\n\n        let currentESdata = browseOptionsObj.find(x => x.browse === this.props.browse)\n\n        if(!this.props[currentESdata.stateType].length) {\n            return (\n                <div className=\"blinky\">LOADING {`${this.props.browse}S`}</div>\n            )\n        }\n\n        const items = this.props[currentESdata.stateType].map((d, i) => {\n            //let _id = null, _resources = null, _firstImageURL = null, _manifestURL = null\n            const { \n                _resources, \n                _firstImageURL, \n                _manifestURL, \n                'adm:access': _access } = d._source\n            let imageURL = this.setImageURL(_firstImageURL, _access)\n            return (\n                <div key={i} className=\"item\">\n                    <div \n                        className=\"item-title card-item-link\"\n                        onClick={() => this.handleShowModal(d._id, d._tid, _resources, imageURL, _manifestURL)}\n                    >{d._tid}</div>\n                    { d._related ? \n                        <SubItems \n                            key={d._id} \n                            related={d._related}\n                            setImage={this.setImageURL}\n                            handleShowModal={this.handleShowModal}\n                        /> : null }\n                </div>\n            )\n        })\n    \n        return (\n            <div>\n                {items}\n                {this.props.doc_id == null ? null : \n                <Modal \n                    key={this.props.doc_id}\n                    hideModal={this.handleHideModal}\n                    doc_id={this.props.doc_id}\n                    show={this.props.showModal}\n                /> }\n            </div>\n        )\n    }\n\n    \n}\n\n// pseudo-selector, rewrite this using re-select package (selectors)\nconst getCurrentData = (data, filter) => {\n    if(filter) {\n        return data.filter(t => t._source._collection === 2)\n    } else {\n        return data\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    esWorks: state.esWorks.isFetching ? [] : getCurrentData(state.esWorks.items.hits.hits, state.setCollection),\n    esAuthors: state.esAuthors.isFetching ? [] : getCurrentData(state.esAuthors.items.hits.hits, state.setCollection),\n    esSubjects: state.esSubjects.isFetching ? [] : getCurrentData(state.esSubjects.items.hits.hits, state.setCollection),\n    browse: state.setBrowse,\n    collapse: state.setCollapse,\n    collection: state.setCollection,\n    doc_id: state.detailModal.modalID,\n    showModal: state.detailModal.show\n})\n\n\n//const withN = new withNamespaces()(Archives)\nexport default connect(mapStateToProps)(Items)\n//export default Items","import React from 'react'\nimport { withNamespaces } from 'react-i18next'\n\nimport Sidebar from './Sidebar'\nimport Items from './Items'\n\nimport '../assets/css/archives.css'\n\nconst Archives = ({t, browse}) => {\n    return (\n            <div className=\"content\">\n                <Sidebar />\n                <div className=\"grid\">\n                    <h1 className=\"archives-title\">{`${t(`browse.${browse}`)}s`}</h1>\n                    <Items />\n                </div>\n            </div>\n        )\n    }\n\nconst withN = new withNamespaces()(Archives)\nexport default withN\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Header } from './Header'\nimport Footer from './Footer'\nimport Posts from './Posts'\nimport Stats from './Stats'\nimport Archives from './Archives'\n\nimport { defaultLanguage, \n  setLanguage,\n  languages,\n  setPage,\n  log\n} from '../store/actions/index'\n\nimport { withNamespaces } from 'react-i18next'\n\nclass Page extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.setNumber = {\n      0: 'one',\n      1: 'one',\n      2: 'two',\n      3: 'three',\n      4: 'four'\n    }\n\n    this.rgbLight = [239, 239, 239]\n    this.rgbDark = [0, 0, 0]\n    \n  }\n\n  componentWillMount() { \n    this.languageCheckAndUpdate()\n  }\n\n  componentDidUpdate() {\n    window.onpopstate  = (e) => {\n      e.preventDefault()\n      this.languageCheckAndUpdate()\n    }\n  }\n\n  languageCheckAndUpdate() {\n    const { history, url, selectedPage, dispatch, t } = this.props;\n    if(url.split('/')[2] !== undefined) {\n      if(Object.keys(t('pages')).includes(url.split('/')[2])) {\n        dispatch(setPage('archives'))\n      } else {\n        dispatch(setPage('home'))\n        history.push(`/${url.split('/')[1]}`)\n      }\n    } else {\n      dispatch(setPage('home'))\n    }\n    if(url.split('/')[1] in languages) { \n      this.setLang(url.split('/')[1], selectedPage)\n    } else {\n      this.setLang(defaultLanguage, selectedPage)\n      history.push(defaultLanguage)\n    }  \n  }\n\n  setLang = (lng) => {\n    const { i18n, dispatch } = this.props;\n    i18n.changeLanguage(lng) // change locale\n    dispatch(setLanguage(lng)) // set redux language\n\n  }\n\n  resetPage = () => {\n    this.props.dispatch({ type: 'SET_PAGE', page: 'home' });\n    this.setLang(defaultLanguage)\n  }\n\n  renderPage(selectedPage, pages) {\n    if (!pages.some(e => e.slug.split('-')[0] === selectedPage)) {\n      log('page not there');\n      this.resetPage();\n    }\n    return pages\n      .filter(page => page.slug.split('-')[0] === selectedPage)\n      .map((page, i) => {\n        let mediaURL = null\n        if(page._embedded[\"wp:featuredmedia\"]) {\n          mediaURL = page._embedded[\"wp:featuredmedia\"][0].source_url\n        }\n        return (\n          <div key={page.slug}>\n            <section \n              id=\"banner\" \n              key={page.id}\n              style={{\n                backgroundImage: \n                  `linear-gradient(to bottom, \n                      rgba(${this.rgbLight},0.1) 70%,\n                      rgba(${this.rgbLight},1.0) 100%), \n                    url(${mediaURL})`\n              }}>\n              <header className=\"major\">\n                <h1>{page.acf.title}</h1>\n                <h3>{page.acf.subtitle}</h3>\n                <div className=\"inner-page\">\n                  <section className=\"spotlights-page\">\n                    <p dangerouslySetInnerHTML={{__html: page.content.rendered}} />\n                  </section>\n                </div>\n              </header>\n            </section>\n          </div>\n        )\n    })\n  }\n\n  render() {\n   \n    if(this.props.fetchingPages || this.props.fetchingPosts) {\n        return (\n          <div className=\"blinky\">{this.props.t('technical.loading')}</div>\n        )\n    }\n    return (\n      <div className=\"container\">\n        <Header />\n        { this.renderPage(this.props.selectedPage, this.props.pages) }\n        { this.props.selectedPage === 'home' ? \n          <div>\n            <Stats stats={this.props.gs} t={this.props.t} />\n            <Posts />\n          </div> : null }\n        { this.props.selectedPage === 'archives' ? <Archives browse={this.props.browse} /> : null }\n        <Footer />\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  //log('state in Page component', state)\n  //log('ownProps in Page component', ownProps)\n  \n  return {\n    router: state.router,\n    url: state.router.location.pathname,\n    fetchingPages: state.pages.isFetching,\n    selectedLanguage: state.selectedLanguage || defaultLanguage,\n    selectedPage: \n      state.pages.isFetching ? \n      [] : \n      state.pages.items[state.selectedLanguage].some(page => page.slug.split('-')[0] === state.selectedPage) ? \n      state.selectedPage : \"home\",\n    pages: state.pages.isFetching ? [] : state.pages.items[state.selectedLanguage],\n    gs: state.gsData.isFetching ? {} : state.gsData.gs,\n    browse: state.setBrowse\n  }\n};\n\nconst withN = new withNamespaces()(Page)\nexport default connect(mapStateToProps)(withN);","import React from 'react'\nimport { Route, Switch, Redirect, BrowserRouter as Router } from 'react-router-dom'\n//import { LanguageArray } from './actions'\n\nimport Page from './components/Page'\n\nconst Routes = () => {\n\n    // <Switch> \n    //     <Route exact path=\"/:lng(en|mn)?\" component={LandingPage} />\n    // </Switch>\n\n    //check to see if it's /:l or just l \n    // const route = Object.entries(languages).map(([l, k]) => {\n    //     console.log('creating routes', k, l)\n    //     return <Route key={l} path={`/${k}/:page`} component={Page} />\n    // })\n\n    //return <Route key={l} path={`/${l}/:page`} component={Page} />\n    //using the full lang names here, change to use codes\n    // const route = LanguageArray.map(l => {\n    //     return (\n    //         <Route key={l} path={`/${l}`} component={Page} />\n    //     )\n    // })\n \n    return (\n        <Router>\n            <Switch>\n                {/* <Route exact path=\"/\" component={Page} /> */}\n                {/* <Route path={`/en/home`} component={Page} />\n                <Route path={`/en/arch`} component={Page} /> */}\n                {/* <Route key=\"en\" path={`/en/:page`} component={Page} />\n                <Route key=\"mn\" path={`/mn/:page`} component={Page} /> */}\n                {/* {route} */}\n                <Route path={`/en`} component={Page} />\n                <Route path={`/mn`} component={Page} />\n                <Route path={`/en/archives`} component={Page} />\n                <Route path={`/mn/archives`} component={Page} />\n                <Route path={`/mn/`} component={Page} />\n                <Redirect push from=\"*\" to=\"/en\" component={Page} />\n            </Switch>\n        </Router>\n    )\n\n}\n\nexport default Routes","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\nimport { defaultLanguage } from '../actions/index'\nimport * as types from '../actions/types'\n\nfunction content(\n    state = {\n        isFetching: false,\n        items: []\n    },\n    action\n) {\n    switch(action.type) {\n        case types.REQUEST_PAGES:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_PAGES:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.pages,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_POSTS:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_POSTS:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.posts,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_DATA:\n        case types.REQUEST_WORKS:\n        case types.REQUEST_ES_DATA:\n        case types.REQUEST_RESOURCES:\n        case types.REQUEST_AUTHORS:\n        case types.REQUEST_TOPICS:\n        case types.REQUEST_SUBJECTS:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_DATA:\n        case types.RECEIVE_WORKS:\n        case types.RECEIVE_RESOURCES:\n        case types.RECEIVE_AUTHORS:\n        case types.RECEIVE_ES_DATA:\n        case types.RECEIVE_TOPICS:\n        case types.RECEIVE_SUBJECTS:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.data,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_GS:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_GS:\n            return Object.assign({}, state, {\n                isFetching: false,\n                gs: action.gs,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_ID:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_ID:\n            return Object.assign({}, state, {\n                isFetching: false,\n                item: action.data,\n                imageAsset: action.imageAsset,\n                volume: action.volume,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_MANIFEST:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_MANIFEST:\n            return Object.assign({}, state, {\n                isFetching: false,\n                manifestURL: action.manifestURL,\n                lastUpdated: action.receivedAt\n            })\n        case types.REQUEST_IIIF:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case types.RECEIVE_IIIF:\n            return Object.assign({}, state, {\n                isFetching: false,\n                firstImage: action.firstImage,\n                lastUpdated: action.receivedAt\n            })\n        case types.NULLIFY_IIIF:\n            return Object.assign({}, state, {\n                firstImage: null\n            })\n        case types.DETAIL_MODAL:\n            return Object.assign({}, state, {\n                modalID: action.modalID,\n                label: action.label,\n                resources: action.resources,\n                image: action.image,\n                manifest: action.manifest,\n                show: action.show\n            })\n        default:\n            return state;\n    }\n}\n\nfunction pages(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_PAGES:\n        case types.REQUEST_PAGES:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction esWorks(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_DATA:\n        case types.RECEIVE_WORKS:\n        case types.RECEIVE_ES_DATA:\n        case types.REQUEST_ES_DATA:\n        case types.REQUEST_DATA:\n        case types.REQUEST_WORKS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state\n    }\n}\n\nfunction esResources(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_RESOURCES:\n        case types.REQUEST_RESOURCES:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state\n    }\n}\n\nfunction esAuthors(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_AUTHORS:\n        case types.REQUEST_AUTHORS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state\n    }\n}\n\nfunction esSubjects(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_TOPICS:\n        case types.RECEIVE_SUBJECTS:\n        case types.REQUEST_TOPICS:\n        case types.REQUEST_SUBJECTS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state\n    }\n}\n\nfunction detailData(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_ID:\n        case types.REQUEST_ID:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction gsData(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_GS:\n        case types.REQUEST_GS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state\n    }\n}\n\nfunction manifestData(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_MANIFEST:\n        case types.REQUEST_MANIFEST:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction IIIFData(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_IIIF:\n        case types.NULLIFY_IIIF:\n        case types.REQUEST_IIIF:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction posts(state = {}, action) {\n    switch(action.type) {\n        case types.RECEIVE_POSTS:\n        case types.REQUEST_POSTS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\n// should use defaultLanguage code here\nconst selectedLanguage = (state = defaultLanguage, action) => {\n    switch (action.type) {\n        case types.SET_LANG:\n            return action.language\n        case types.LOCATION_CHANGE:\n            if(action.payload.location.pathname.split('/')[1].length === 0) {\n                return state\n            }\n            return action.payload.location.pathname.split('/')[1]\n      default:\n        return state\n    }\n}\n\nfunction detailModal(state = { modalID: 0, image: null }, action) {\n    switch(action.type) {\n        case types.DETAIL_MODAL:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nconst selectedPage = (state = 'home', action) => {\n    switch (action.type) {\n        case types.SET_PAGE:\n            return action.page\n        default:\n            return state\n    }\n}\n\nconst setCollapse = (state = true, action) => {\n    switch (action.type) {\n        case types.SET_COLLAPSE:\n            return action.collapse\n        default:\n            return state\n    }\n}\n\nconst setBrowse = (state = 'Title', action) => {\n    switch (action.type) {\n        case types.SET_BROWSE:\n            return action.browse\n        default:\n            return state\n    }\n}\n\nconst setCollection = (state = false, action) => {\n    switch (action.type) {\n        case types.SET_COLLECTION:\n            return action.collection\n        default:\n            return state\n    }\n}\n\nconst rootReducer = (history) => combineReducers({\n    router: connectRouter(history),\n    selectedLanguage,\n    selectedPage,\n    setCollapse,\n    setBrowse,\n    setCollection,\n    pages,\n    posts,\n    esWorks,\n    esAuthors,\n    esSubjects,\n    esResources,\n    gsData,\n    detailData,\n    manifestData,\n    IIIFData,\n    detailModal\n})\n\nexport default rootReducer","import i18n from 'i18next'\nimport Backend from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport { reactI18nextModule } from 'react-i18next'\n\n\n// NOTE THAT 'en' is attempting to be loaded because of LanguageDetector (probably)\n// and in our case we're loading 'English'\n// this is due to how I originally coded the component\n// refactor to use language codes :)\n\ni18n\n  // load translation using xhr -> see /public/locales\n  // learn more: https://github.com/i18next/i18next-xhr-backend\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to the react-i18next components.\n  // Alternative use the I18nextProvider: https://react.i18next.com/components/i18nextprovider\n  .use(reactI18nextModule)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: 'en',\n    debug: true,\n    load: 'languageOnly',\n    returnObjects: true,\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n\n    // special options for react-i18next\n    // learn more: https://react.i18next.com/components/i18next-instance\n    react: {\n      wait: true\n    }\n  })\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport { Provider } from 'react-redux'\n\nimport { createBrowserHistory } from 'history'\nimport { ConnectedRouter } from 'connected-react-router'\n\nimport { \n    fetchPages, \n    fetchPosts, \n    fetchData, \n    fetchAuthors,\n    fetchTopics,\n    getGS } from './store/actions'\n\nimport Routes from './router'\n\nimport configureStore from './store/configureStore'\nimport { checkConnection } from './store/connection'\n\nimport './assets/css/main.css'\nimport './assets/css/index.css'\n\n// this is what gives the entire app access to t, i18n...\nimport './i18n'\n\nconst history = createBrowserHistory()\nconst store = configureStore()\n\n//console.log('initial state index.js', store.getState()) \n// THIS COULD BE REPLACED WITH ONE 'INITIALIZE APP' type function\n// GET PAGES, POSTS, ES DATA\n\nstore.dispatch(fetchPages())\nstore.dispatch(fetchPosts())\n//store.dispatch(fetchData())\n\nstore.dispatch(getGS())\ncheckConnection()\nstore.dispatch(fetchData())\nstore.dispatch(fetchAuthors())\nstore.dispatch(fetchTopics())\n\nconst App = () => {\n    document.body.classList.add('landing')\n    return (\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <Routes />\n            </ConnectedRouter>\n        </Provider>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import { applyMiddleware, compose, createStore } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { createLogger } from 'redux-logger';\nimport rootReducer from './reducers'\nimport { log } from '../store/actions'\n\nimport { createBrowserHistory } from 'history'\n\nexport default function configureStore(preloadedState) {\n\n    \n    const history = createBrowserHistory()\n\n    const middlewares = [thunkMiddleware]\n\n    if (process.env.NODE_ENV === 'development') {\n        log('In Dev, will add logger middleware...')\n        const loggerMiddleware = createLogger()\n        middlewares.push(loggerMiddleware)\n    }\n\n    const middlewareEnhancer = applyMiddleware(...middlewares)\n\n    const enhancers = [middlewareEnhancer]\n    const composedEnhancers = compose(...enhancers)\n\n    const store = createStore(\n        rootReducer(history), \n        preloadedState, \n        composedEnhancers\n    )\n\n  return store\n}"],"sourceRoot":""}